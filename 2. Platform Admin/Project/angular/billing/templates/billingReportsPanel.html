<div>
    
    <div class="container-fluid" style="padding-top:20px" data-ng-show="vm.report === null">
        <section-loader message="'Generating report...'" loader-type="'inline'"></section-loader>
    </div>

    <div data-ng-show="vm.report !== null">

        <div id="reportHeader">


            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" style="text-align:left">
                <h2 style="margin-left:-15px; padding-bottom:15px;">{{ vm.currentReportLengthForDisplay.label }}</h2>
            </div>




            <div class="hidden-xs col-lg-6 col-md-6 col-sm-6 col-xs-12" style="text-align:right;">
                <div style="padding-top:12px;">
                    <span class="btn-group" style="margin-right:10px;">
                        <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown">
                            {{ vm.currentReportLength.label }} <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu" style="cursor:pointer">
                            <li data-ng-repeat="reportLength in vm.reportLengths">
                                <a data-ng-click="vm.setCurrentReportLength(reportLength)">{{ reportLength.label }}</a>
                            </li>
                        </ul>
                    </span>

                    <button class="btn btn-default btn-sm" data-ng-click="vm.getReport()"><i class="fa fa-cog"></i> Generate</button>
                </div>
            </div>


            
            <!-- Billing Issues -->

            <div data-ng-show="vm.report.BillingIssues == true" style="clear:both; text-align:left">

                <div style="margin-bottom:0px; color:red">
                    <h4 class="hidden-xs"><i class="fa fa-warning"></i> Billing issues recorded in the {{ vm.currentReportLengthForDisplay.labelLower }}</h4>
                    <h6 class="visible-xs"><i class="fa fa-warning"></i> Billing issues recorded in the {{ vm.currentReportLengthForDisplay.labelLower }}</h6>
                </div>

            </div>
            

            <hr style="clear:both; border-style:dashed; border-color:darkgrey" />


            <h4><strong>Charges</strong></h4>

            <div style="float:left; margin-right:35px">
                <small style="color:darkgrey; text-align:center">Gross</small>
                <div class="numberBox blue" style="min-width:75px;">
                    {{ vm.report.TotalGross | currency }}
                </div>
            </div>

            <div style="float:left; margin-right:35px">
                <small style="color:darkgrey; text-align:center">Refunds</small>
                <div class="numberBox purple" style="min-width:75px;">
                    {{ vm.report.TotalRefunds | currency }}
                </div>
            </div>

            <div style="float:left; margin-right:35px">
                <small style="color:darkgrey; text-align:center">Fees</small>
                <div class="numberBox red" style="min-width:75px;">
                    {{ vm.report.TotalFees | currency }}
                </div>
            </div>

            <div style="float:left; margin-right:35px;">
                <strong style="color:black; text-align:center;">Net</strong>
                <div class="numberBox" data-ng-class="{red: vm.report.TotalNet < 0, green: vm.report.TotalNet > 0}" style="font-size:19px; padding:7px; border-width:3px; margin-top:-1px">
                    {{ vm.report.TotalNet | currency }}
                </div>
            </div>


            <hr style="clear:both; border-style:dashed; border-color:darkgrey" />

            <!--<h4>Charges</h4>

            <div style="float:left; margin-right:35px">
                <small class="branding-accent-color-dark" style="color:darkgrey; text-align:center">Successful</small>
                <div class="numberBox blue" style="width:40px">
                    {{ vm.report.ChargeCount }}
                </div>
            </div>

            <div style="float:left; margin-right:35px">
                <small class="branding-accent-color-dark" style="color:darkgrey; text-align:center">Failed</small>
                <div class="numberBox red" style="width:40px">
                    {{ vm.report.FailedChargeCount }}
                </div>
            </div>
                
            <div style="float:left; margin-right:35px">
                <small class="branding-accent-color-dark" style="color:darkgrey; text-align:center">Refunded</small>
                <div class="numberBox purple" style="width:40px  ">
                    {{ vm.report.RefundCount }}
                </div>
            </div>



            <hr style="clear:both;" />-->


            <h4><strong>Transfers</strong></h4>

            <!--<div style="float:left; margin-right:35px">
                <small class="branding-accent-color-dark" style="color:darkgrey; text-align:center">Pending</small>
                <div class="numberBox blue" style="width:45px">
                    {{ vm.report.TransferCount_Pending }}
                </div>
            </div>

            <div style="float:left; margin-right:35px">
                <small class="branding-accent-color-dark" style="color:darkgrey; text-align:center">Complete</small>
                <div class="numberBox blue" style="width:45px">
                    {{ vm.report.TransferCount_Complete }}
                </div>
            </div>

            <div style="float:left; margin-right:35px">
                <small class="branding-accent-color-dark" style="color:darkgrey; text-align:center">Total</small>
                <div class="numberBox blue" style="width:45px; border-width: 3px; margin-top:-1px">
                    {{ vm.report.TransferCount }}
                </div>
            </div>-->

            
            <div style="float:left; margin-right:35px">
                <small style="color:darkgrey; text-align:center">Pending</small>
                <div class="numberBox pending" style="min-width:75px;">
                    {{ vm.report.TotalTransfers_Pending | currency }}
                </div>
            </div>

            <div style="float:left; margin-right:35px">
                <small style="color:darkgrey; text-align:center">Complete</small>
                <div class="numberBox blue" style="min-width:75px;">
                    {{ vm.report.TotalTransfers_Complete | currency }}
                </div>
            </div>

            <div style="float:left; margin-right:35px;">
                <strong style="color:black; text-align:center">Total</strong>
                <div class="numberBox green" style="font-size:19px; padding:7px; border-width:3px; margin-top:-1px">
                    {{ vm.report.TotalTransfers | currency }}
                </div>
            </div>


        </div>

        <br style="clear:both;" />
        <hr style="clear:both; border-style:dashed; border-color:darkgrey" />

        <div id="balanceTransactionsGrid_Created">


            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" style="text-align:left; margin:0px;">
                <h4 style="margin-bottom:20px; margin-left:-15px;"><strong>Balance Transactions (Created {{ vm.currentReportLength.label }})</strong></h4>
            </div>
            <div class="hidden-xs col-lg-6 col-md-6 col-sm-6 col-xs-12" style="text-align:right">
                <h4 style="margin-bottom:20px; margin-right:-15px; color:darkgrey">{{ vm.report.BalanceTransactions_Created.length }} total records</h4>
            </div>


            <table class="table table-responsive table-striped">

                <tr>
                    <th style="text-align:left">Type</th>
                    <th>Status</th>
                    <th class="hidden-xs">Created</th>
                    <th class="hidden-xs">Available</th>
                    <th class="hidden-xs">Gross</th>
                    <th class="hidden-xs">Fee</th>
                    <th style="text-align:right">Net</th>
                </tr>

                <tr data-ng-repeat="btr in vm.report.BalanceTransactions_Created">


                    <td data-ng-show="btr.Type === 'refund'" style="color:purple; text-align:left"><strong><i class="fa fa-reply"></i> {{ btr.Type | uppercase }}</strong></td>
                    <td data-ng-show="btr.Type === 'transfer'" style="color:#007CBA; text-align:left"><strong><i class="fa fa-long-arrow-left"></i> {{ btr.Type | uppercase }}</strong></td>
                    <td data-ng-show="btr.Type === 'transfer_cancel'" style="color:darkgrey; text-align:left"><strong><i class="fa fa-times"></i> {{ btr.Type | uppercase }}</strong></td>
                    <td data-ng-show="btr.Type === 'transfer_failure'" style="color:red; text-align:left"><strong><i class="fa fa-times"></i> {{ btr.Type | uppercase }}</strong></td>
                    <td data-ng-show="btr.Type === 'charge'" style="color:green; text-align:left"><strong><i class="fa fa-usd"></i> {{ btr.Type | uppercase }}</strong></td>
                    <td data-ng-show="btr.Type === 'adjustment'" style="color:darkcyan; text-align:left"><strong><i class="fa fa-adjust"></i> {{ btr.Type | uppercase }}</strong></td>
                    <td data-ng-show="btr.Type === 'application_fee'" style="color:firebrick; text-align:left"><strong><i class="fa fa-tag"></i> {{ btr.Type | uppercase }}</strong></td>
                    <td data-ng-show="btr.Type === 'application_fee_refund'" style="color:darkslateblue; text-align:left"><strong><i class="fa fa-reply"></i> {{ btr.Type | uppercase }}</strong></td>


                    <td data-ng-show="btr.Status=='pending'" style="cursor:pointer">
                        <div style="color:lightgrey">Pending</div>
                    </td>
                    <td data-ng-show="btr.Status=='available'" style="cursor:pointer">
                        <strong style="color:black">Available</strong>
                    </td>

                    <td class="hidden-xs" title="{{btr.Created | date : 'EEE MMM, dd yyyy (h:mm a)'}}" style="cursor:pointer">
                        <i style="color:darkgrey" class="fa fa-clock-o"></i> <strong am-time-ago="btr.Created"></strong>
                    </td>
                    <td class="hidden-xs" title="{{btr.Available | date : 'EEE MMM, dd yyyy (h:mm a)'}}" style="cursor:pointer">
                        <i style="color:darkgrey" class="fa fa-clock-o"></i> <strong am-time-ago="btr.Available"></strong>
                    </td>


                    <td class="hidden-xs" data-ng-show="btr.Amount >= 0 && btr.Type != 'transfer' && btr.Type != 'transfer_cancel'" style="color:green"> <strong>{{ btr.Amount | currency }}</strong></td>
                    <td class="hidden-xs" data-ng-show="btr.Amount < 0 && btr.Type != 'transfer' && btr.Type != 'transfer_cancel'" style="color:red"><strong>{{ btr.Amount | currency }}</strong></td>
                    <td class="hidden-xs" data-ng-show="btr.Type == 'transfer'" style="color:#007CBA"><strong><i class="fa fa-long-arrow-left" style="margin-left:-20px;"></i> {{ btr.Amount | currency }}</strong></td>
                    <td class="hidden-xs" data-ng-show="btr.Type == 'transfer_cancel'" style="color:darkgrey"><strong><i class="fa fa-long-arrow-left" style="margin-left:-20px;"></i> {{ btr.Amount | currency }}</strong></td>


                    <td class="hidden-xs" data-ng-show="btr.Fee > 0 && btr.Type != 'transfer' && btr.Type != 'transfer_cancel'" style="color:red"> <strong>{{ btr.Fee | currency }}</strong></td>
                    <td class="hidden-xs" data-ng-show="btr.Fee < 0 && btr.Type != 'transfer' && btr.Type != 'transfer_cancel'" style="color:green"><strong>{{ btr.Fee | currency }}</strong></td>
                    <td class="hidden-xs" data-ng-show="btr.Type == 'transfer'" style="color:#007CBA"><strong>{{ btr.Fee | currency }}</strong></td>
                    <td class="hidden-xs" data-ng-show="btr.Type == 'transfer_cancel'" style="color:darkgrey"><strong>{{ btr.Fee | currency }}</strong></td>



                    <td data-ng-show="btr.Net > 0 && btr.Type != 'transfer' && btr.Type != 'transfer_cancel'" style="color:green; text-align:right"> <strong>{{ btr.Net | currency }}</strong></td>
                    <td data-ng-show="btr.Net < 0 && btr.Type != 'transfer' && btr.Type != 'transfer_cancel'" style="color:red; text-align:right"><strong>{{ btr.Net | currency }}</strong></td>
                    <td data-ng-show="btr.Type == 'transfer'" style="color:#007CBA; text-align:right"><strong><i class="fa fa-long-arrow-left" style="margin-left:-20px;"></i>  {{ btr.Net | currency }}</strong></td>
                    <td data-ng-show="btr.Type == 'transfer_cancel'" style="color:darkgrey; text-align:right"><strong><i class="fa fa-long-arrow-left" style="margin-left:-20px;"></i> {{ btr.Net | currency }}</strong></td>

                </tr>
            </table>

        </div>

        <br />
        <hr style="border-style:dashed; border-color:darkgrey" />

        <div id="balanceTransactionsGrid_Available">


            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" style="text-align:left; margin:0px;">
                <h4 style="margin-bottom:20px; margin-left:-15px;"><strong>Balance Transactions (Available {{ vm.currentReportLength.label }})</strong></h4>
            </div>
            <div class="hidden-xs col-lg-6 col-md-6 col-sm-6 col-xs-12" style="text-align:right">
                <h4 style="margin-bottom:20px; margin-right:-15px; color:darkgrey">{{ vm.report.BalanceTransactions_Available.length }} total records</h4>
            </div>


            <table class="table table-responsive table-striped">

                <tr>
                    <th style="text-align:left">Type</th>
                    <th>Status</th>
                    <th class="hidden-xs">Created</th>
                    <th class="hidden-xs">Available</th>
                    <th class="hidden-xs">Gross</th>
                    <th class="hidden-xs">Fee</th>
                    <th style="text-align:right">Net</th>
                </tr>

                <tr data-ng-repeat="btr in vm.report.BalanceTransactions_Available">


                    <td data-ng-show="btr.Type === 'refund'" style="color:purple; text-align:left"><strong><i class="fa fa-reply"></i> {{ btr.Type | uppercase }}</strong></td>
                    <td data-ng-show="btr.Type === 'transfer'" style="color:#007CBA; text-align:left"><strong><i class="fa fa-long-arrow-left"></i> {{ btr.Type | uppercase }}</strong></td>
                    <td data-ng-show="btr.Type === 'transfer_cancel'" style="color:darkgrey; text-align:left"><strong><i class="fa fa-times"></i> {{ btr.Type | uppercase }}</strong></td>
                    <td data-ng-show="btr.Type === 'transfer_failure'" style="color:red; text-align:left"><strong><i class="fa fa-times"></i> {{ btr.Type | uppercase }}</strong></td>
                    <td data-ng-show="btr.Type === 'charge'" style="color:green; text-align:left"><strong><i class="fa fa-usd"></i> {{ btr.Type | uppercase }}</strong></td>
                    <td data-ng-show="btr.Type === 'adjustment'" style="color:darkcyan; text-align:left"><strong><i class="fa fa-adjust"></i> {{ btr.Type | uppercase }}</strong></td>
                    <td data-ng-show="btr.Type === 'application_fee'" style="color:firebrick; text-align:left"><strong><i class="fa fa-tag"></i> {{ btr.Type | uppercase }}</strong></td>
                    <td data-ng-show="btr.Type === 'application_fee_refund'" style="color:darkslateblue; text-align:left"><strong><i class="fa fa-reply"></i> {{ btr.Type | uppercase }}</strong></td>


                    <td data-ng-show="btr.Status=='pending'" style="cursor:pointer">
                        <div style="color:lightgrey">Pending</div>
                    </td>
                    <td data-ng-show="btr.Status=='available'" style="cursor:pointer">
                        <strong style="color:black">Available</strong>
                    </td>

                    <td class="hidden-xs" title="{{btr.Created | date : 'EEE MMM, dd yyyy (h:mm a)'}}" style="cursor:pointer">
                        <i style="color:darkgrey" class="fa fa-clock-o"></i> <strong am-time-ago="btr.Created"></strong>
                    </td>
                    <td class="hidden-xs" title="{{btr.Available | date : 'EEE MMM, dd yyyy (h:mm a)'}}" style="cursor:pointer">
                        <i style="color:darkgrey" class="fa fa-clock-o"></i> <strong am-time-ago="btr.Available"></strong>
                    </td>


                    <td class="hidden-xs" data-ng-show="btr.Amount >= 0 && btr.Type != 'transfer' && btr.Type != 'transfer_cancel'" style="color:green"> <strong>{{ btr.Amount | currency }}</strong></td>
                    <td class="hidden-xs" data-ng-show="btr.Amount < 0 && btr.Type != 'transfer' && btr.Type != 'transfer_cancel'" style="color:red"><strong>{{ btr.Amount | currency }}</strong></td>
                    <td class="hidden-xs" data-ng-show="btr.Type == 'transfer'" style="color:#007CBA"><strong><i class="fa fa-long-arrow-left" style="margin-left:-20px;"></i> {{ btr.Amount | currency }}</strong></td>
                    <td class="hidden-xs" data-ng-show="btr.Type == 'transfer_cancel'" style="color:darkgrey"><strong><i class="fa fa-long-arrow-left" style="margin-left:-20px;"></i> {{ btr.Amount | currency }}</strong></td>


                    <td class="hidden-xs" data-ng-show="btr.Fee > 0 && btr.Type != 'transfer' && btr.Type != 'transfer_cancel'" style="color:red"> <strong>{{ btr.Fee | currency }}</strong></td>
                    <td class="hidden-xs" data-ng-show="btr.Fee < 0 && btr.Type != 'transfer' && btr.Type != 'transfer_cancel'" style="color:green"><strong>{{ btr.Fee | currency }}</strong></td>
                    <td class="hidden-xs" data-ng-show="btr.Type == 'transfer'" style="color:#007CBA"><strong>{{ btr.Fee | currency }}</strong></td>
                    <td class="hidden-xs" data-ng-show="btr.Type == 'transfer_cancel'" style="color:darkgrey"><strong>{{ btr.Fee | currency }}</strong></td>



                    <td data-ng-show="btr.Net > 0 && btr.Type != 'transfer' && btr.Type != 'transfer_cancel'" style="color:green; text-align:right"> <strong>{{ btr.Net | currency }}</strong></td>
                    <td data-ng-show="btr.Net < 0 && btr.Type != 'transfer' && btr.Type != 'transfer_cancel'" style="color:red; text-align:right"><strong>{{ btr.Net | currency }}</strong></td>
                    <td data-ng-show="btr.Type == 'transfer'" style="color:#007CBA; text-align:right"><strong><i class="fa fa-long-arrow-left" style="margin-left:-20px;"></i>  {{ btr.Net | currency }}</strong></td>
                    <td data-ng-show="btr.Type == 'transfer_cancel'" style="color:darkgrey; text-align:right"><strong><i class="fa fa-long-arrow-left" style="margin-left:-20px;"></i> {{ btr.Net | currency }}</strong></td>

                </tr>
            </table>

        </div>

    </div>


</div>